CREATE TABLE T_BUSLINIE(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    BUSNR INTEGER NOT NULL
);

CREATE TABLE T_FAHRTSTRECKE(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL,
    BUSLINIE INTEGER NOT NULL,
    FOREIGN KEY (BUSLINIE) REFERENCES T_BUSLINIE(ID)
);

CREATE TABLE T_HALTESTELLE(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL
);

CREATE TABLE T_FAHRPLAN(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL
);

CREATE TABLE T_HALTESTELLENZUORDNUNG(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    FAHRTZEIT INTEGER NOT NULL,
    NAECHSTE_HALTESTELLE INTEGER NOT NULL,
    HALTESTELLE INTEGER NOT NULL,
    FAHRTSTRECKE INTEGER NOT NULL,
    FOREIGN KEY (HALTESTELLE) REFERENCES T_HALTESTELLE(ID),
    FOREIGN KEY (FAHRTSTRECKE) REFERENCES T_FAHRTSTRECKE(ID),
    FOREIGN KEY (NAECHSTE_HALTESTELLE) REFERENCES T_HALTESTELLE(ID)
);

CREATE TABLE T_FAHRPLANZUORDNUNG(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    RICHTUNG BOOLEAN NOT NULL,
    STARTZEITPUNKT TIME NOT NULL,
    FAHRTSTRECKE INTEGER NOT NULL,
    FAHRPLAN INTEGER NOT NULL,
    FOREIGN KEY (FAHRTSTRECKE) REFERENCES T_FAHRTSTRECKE(ID),
    FOREIGN KEY (FAHRPLAN) REFERENCES T_FAHRPLAN(ID)
);

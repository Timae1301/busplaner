CREATE TABLE T_BUSLINIE(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    BUSNR INTEGER NOT NULL
);

CREATE TABLE T_FAHRTSTRECKE(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL,
    BUSLINIE_ID INTEGER NOT NULL,
    FOREIGN KEY (BUSLINIE_ID) REFERENCES T_BUSLINIE(ID)
);

CREATE TABLE T_HALTESTELLE(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL
);

CREATE TABLE T_FAHRPLAN(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL
);

CREATE TABLE T_HALTESTELLENZUORDNUNG(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    FAHRTZEIT INTEGER NOT NULL,
    NAECHSTE_HALTESTELLE INTEGER NOT NULL,
    HALTESTELLEID INTEGER NOT NULL,
    FAHRTSTRECKEID INTEGER NOT NULL,
    FOREIGN KEY (HALTESTELLEID) REFERENCES T_HALTESTELLE(ID),
    FOREIGN KEY (FAHRTSTRECKEID) REFERENCES T_FAHRTSTRECKE(ID),
    FOREIGN KEY (NAECHSTE_HALTESTELLE) REFERENCES T_HALTESTELLE(ID)
);

CREATE TABLE T_FAHRPLANZUORDNUNG(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    RICHTUNG BOOLEAN NOT NULL,
    STARTZEITPUNKT TIME NOT NULL,
    FAHRTSTRECKEID INTEGER NOT NULL,
    FAHRPLANID INTEGER NOT NULL,
    FOREIGN KEY (FAHRTSTRECKEID) REFERENCES T_FAHRTSTRECKE(ID),
    FOREIGN KEY (FAHRPLANID) REFERENCES T_FAHRPLAN(ID)
);
